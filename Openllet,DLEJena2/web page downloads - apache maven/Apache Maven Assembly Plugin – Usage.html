<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.1 at 2017-08-13 
 | Rendered using Apache Maven Fluido Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="John Casey" />
    <meta name="Date-Creation-yyyymmdd" content="20110207" />
    <meta name="Date-Revision-yyyymmdd" content="20170813" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Apache Maven Assembly Plugin &#x2013; Usage</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.5.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.5.min.js"></script>

                  <!-- Google Analytics -->
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-140879-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
          </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                    <a href="https://www.apache.org/" id="bannerLeft">
                                                                                                <img src="../../images/apache-maven-project.png"  alt="Apache Maven Assembly Plugin"/>
                </a>
                      </div>
        <div class="pull-right">                                <a href="../../" id="bannerRight">
                                                                                                <img src="../../images/maven-logo-black-on-white.png" />
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
              
                              <li class="">
                    <a href="https://www.apache.org/" class="externalLink" title="Apache">
        Apache</a>
                    <span class="divider">/</span>
      </li>
            <li class="">
                    <a href="../../index.html" title="Maven">
        Maven</a>
                    <span class="divider">/</span>
      </li>
            <li class="">
                    <a href="../index.html" title="Plugins">
        Plugins</a>
                    <span class="divider">/</span>
      </li>
            <li class="">
                    <a href="index.html" title="Apache Maven Assembly Plugin">
        Apache Maven Assembly Plugin</a>
                    <span class="divider">/</span>
      </li>
        <li class="active ">Usage</li>
        
              
                  <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2017-08-13</li>
              <li id="projectVersion" class="pull-right">
                    Version: 3.1.0
        </li>
            
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
              
                <ul class="nav nav-list">
                    <li class="nav-header">Reference</li>
                              
      <li>
  
                          <a href="assembly.html" title="Descriptor Format">
          <span class="none"></span>
        Descriptor Format</a>
            </li>
                
      <li>
  
                          <a href="descriptor-refs.html" title="Predefined Descriptors">
          <span class="none"></span>
        Predefined Descriptors</a>
            </li>
                
      <li>
  
                          <a href="assembly-component.html" title="Components">
          <span class="none"></span>
        Components</a>
            </li>
                              <li class="nav-header">Overview</li>
                              
      <li>
  
                          <a href="index.html" title="Introduction">
          <span class="none"></span>
        Introduction</a>
            </li>
                
      <li>
  
                          <a href="plugin-info.html" title="Goals">
          <span class="none"></span>
        Goals</a>
            </li>
                
      <li class="active">
  
            <a href="#"><span class="none"></span>Usage</a>
          </li>
                
      <li>
  
                          <a href="faq.html" title="FAQ">
          <span class="none"></span>
        FAQ</a>
            </li>
                
      <li>
  
                          <a href="http://www.apache.org/licenses/" class="externalLink" title="License">
          <span class="none"></span>
        License</a>
            </li>
                
      <li>
  
                          <a href="download.html" title="Download">
          <span class="none"></span>
        Download</a>
            </li>
                              <li class="nav-header">Advanced Topics</li>
                              
      <li>
  
                          <a href="advanced-descriptor-topics.html" title="Assembly Descriptors">
          <span class="none"></span>
        Assembly Descriptors</a>
            </li>
                
      <li>
  
                          <a href="advanced-module-set-topics.html" title="ModuleSets">
          <span class="none"></span>
        ModuleSets</a>
            </li>
                              <li class="nav-header">Examples</li>
                              
      <li>
  
                          <a href="examples/index.html" title="Examples Index">
          <span class="none"></span>
        Examples Index</a>
            </li>
                                                                                                                                    
      <li>
  
                          <a href="examples/single/index.html" title="Single Project">
          <span class="icon-chevron-down"></span>
        Single Project</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="examples/single/filtering-some-distribution-files.html" title="Filtering Some Distribution Files">
          <span class="none"></span>
        Filtering Some Distribution Files</a>
            </li>
                    
      <li>
  
                          <a href="examples/single/including-and-excluding-artifacts.html" title="Including/Excluding Artifacts">
          <span class="none"></span>
        Including/Excluding Artifacts</a>
            </li>
                    
      <li>
  
                          <a href="examples/single/using-components.html" title="Using Component Descriptors">
          <span class="none"></span>
        Using Component Descriptors</a>
            </li>
                    
      <li>
  
                          <a href="examples/single/using-repositories.html" title="Using Repositories">
          <span class="none"></span>
        Using Repositories</a>
            </li>
                    
      <li>
  
                          <a href="examples/single/using-container-descriptor-handlers.html" title="Using Container Descriptor Handlers">
          <span class="none"></span>
        Using Container Descriptor Handlers</a>
            </li>
              </ul>
        </li>
                                                                              
      <li>
  
                          <a href="examples/multimodule/index.html" title="Multimodule Projects">
          <span class="icon-chevron-down"></span>
        Multimodule Projects</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="examples/multimodule/module-binary-inclusion-simple.html" title="Include Module Artifacts">
          <span class="none"></span>
        Include Module Artifacts</a>
            </li>
                    
      <li>
  
                          <a href="examples/multimodule/module-source-inclusion-simple.html" title="Include Module Sources">
          <span class="none"></span>
        Include Module Sources</a>
            </li>
              </ul>
        </li>
                
      <li>
  
                          <a href="examples/sharing-descriptors.html" title="Sharing Assembly Descriptors">
          <span class="none"></span>
        Sharing Assembly Descriptors</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                                          
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <span class="icon-chevron-right"></span>
        Project Information</a>
                  </li>
                                                                                                                                                                                                                                                                        
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <span class="icon-chevron-right"></span>
        Project Reports</a>
                  </li>
                              <li class="nav-header">Maven Projects</li>
                              
      <li>
  
                          <a href="../../archetype/index.html" title="Archetype">
          <span class="none"></span>
        Archetype</a>
            </li>
                
      <li>
  
                          <a href="../../doxia/index.html" title="Doxia">
          <span class="none"></span>
        Doxia</a>
            </li>
                
      <li>
  
                          <a href="../../jxr/index.html" title="JXR">
          <span class="none"></span>
        JXR</a>
            </li>
                
      <li>
  
                          <a href="../../ref/current" title="Maven">
          <span class="none"></span>
        Maven</a>
            </li>
                
      <li>
  
                          <a href="../../pom/index.html" title="Parent POMs">
          <span class="none"></span>
        Parent POMs</a>
            </li>
                
      <li>
  
                          <a href="../index.html" title="Plugins">
          <span class="none"></span>
        Plugins</a>
            </li>
                
      <li>
  
                          <a href="../../plugin-testing/index.html" title="Plugin Testing">
          <span class="none"></span>
        Plugin Testing</a>
            </li>
                
      <li>
  
                          <a href="../../plugin-tools/index.html" title="Plugin Tools">
          <span class="none"></span>
        Plugin Tools</a>
            </li>
                
      <li>
  
                          <a href="../../apache-resource-bundles/index.html" title="Resource Bundles">
          <span class="none"></span>
        Resource Bundles</a>
            </li>
                
      <li>
  
                          <a href="../../scm/index.html" title="SCM">
          <span class="none"></span>
        SCM</a>
            </li>
                
      <li>
  
                          <a href="../../shared/index.html" title="Shared Components">
          <span class="none"></span>
        Shared Components</a>
            </li>
                
      <li>
  
                          <a href="../../skins/index.html" title="Skins">
          <span class="none"></span>
        Skins</a>
            </li>
                
      <li>
  
                          <a href="../../surefire/index.html" title="Surefire">
          <span class="none"></span>
        Surefire</a>
            </li>
                
      <li>
  
                          <a href="../../wagon/index.html" title="Wagon">
          <span class="none"></span>
        Wagon</a>
            </li>
                              <li class="nav-header">ASF</li>
                              
      <li>
  
                          <a href="https://www.apache.org/foundation/how-it-works.html" class="externalLink" title="How Apache Works">
          <span class="none"></span>
        How Apache Works</a>
            </li>
                
      <li>
  
                          <a href="https://www.apache.org/foundation/" class="externalLink" title="Foundation">
          <span class="none"></span>
        Foundation</a>
            </li>
                
      <li>
  
                          <a href="https://www.apache.org/foundation/sponsorship.html" class="externalLink" title="Sponsoring Apache">
          <span class="none"></span>
        Sponsoring Apache</a>
            </li>
                
      <li>
  
                          <a href="https://www.apache.org/foundation/thanks.html" class="externalLink" title="Thanks">
          <span class="none"></span>
        Thanks</a>
            </li>
            </ul>
              
                            <form id="search-form" action="https://www.google.com/search" method="get" >
    
  <input value="$sitesearchValue" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="https://cse.google.com/brand?form=search-form"></script>
          
          <hr />

           <div id="poweredBy">
                   
    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>

    
    <div class="g-plusone" data-href="https://maven.apache.org/plugins/maven-assembly-plugin/" data-size="tall" ></div>

                   <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <div class="section">
<h2><a name="Usage"></a>Usage</h2>
<p>To handle filtering this version of Maven Assembly Plugin uses <a class="externalLink" href="http://maven.apache.org/shared/maven-filtering/index.html">Maven Filtering</a> 3.1.1.</p>
<p>To handle archiving this version of Maven Assembly Plugin uses <a class="externalLink" href="http://maven.apache.org/shared/maven-archiver/index.html">Maven Archiver</a> 3.2.0.</p>
<p>This document is intended to provide instructions for using the maven-assembly-plugin. In order for this discussion to be useful, it's critical to cover two topics: configuration of the plugin - both inside the POM and, where possible, from the command line - and the different execution styles. For the sake of clarity, we'll cover configuration before execution.</p>
<div class="section">
<h3><a name="Configuration"></a>Configuration</h3>
<p>Getting started with the Assembly Plugin is pretty simple. If you want to use one of the prefabricated assembly descriptors, you configure which descriptor to use with the &lt;<tt>descriptorRefs&gt;</tt>/&lt;<tt>descriptorRef&gt;</tt> parameter. If you want to use a custom assembly descriptor, you configure the path to your descriptor using the &lt;<tt>descriptors&gt;</tt>/&lt;<tt>descriptor&gt;</tt> parameter.</p>
<p>Note that a single invocation of the Assembly Plugin can actually produce assemblies from multiple descriptors, allowing you maximum flexibility to customize the suite of binaries your project produces. When the assembly is created it will use the assemblyId as the artifact's classifier and will attach the created assembly to the project so that it will be uploaded into the repository in the install and deploy phase.</p>
<p>For example, imagine that our project produces a JAR. If we want to create an assembly binary that includes our project's dependencies, we can take advantage of one of the Assembly Plugin's prefabricated descriptors. You configure it as follows in your project's <tt>pom.xml</tt>:</p>
<div class="source"><pre class="prettyprint linenums">&lt;project&gt;
  [...]
  &lt;build&gt;
    [...]
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;!-- NOTE: We don't need a groupId specification because the group is
             org.apache.maven.plugins ...which is assumed by default.
         --&gt;
        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;
        &lt;version&gt;3.1.0&lt;/version&gt;
        &lt;configuration&gt;
          &lt;descriptorRefs&gt;
            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;
          &lt;/descriptorRefs&gt;
        &lt;/configuration&gt;
        [...]
&lt;/project&gt;</pre></div>
<p>Note that the Assembly Plugin allows you to specify multiple <tt>descriptorRefs</tt> at once, to produce multiple types of assemblies in a single invocation.</p>
<p>Alternatively, we've created a custom assembly descriptor called <tt>src.xml</tt> in the <tt>src/assembly</tt> directory (see the <a href="#Resources">Resources</a> section for more information). We can tell the Assembly Plugin to use that instead:</p>
<div class="source"><pre class="prettyprint linenums">&lt;project&gt;
  [...]
  &lt;build&gt;
    [...]
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;
        &lt;version&gt;3.1.0&lt;/version&gt;
        &lt;configuration&gt;
          &lt;descriptors&gt;
            &lt;descriptor&gt;src/assembly/src.xml&lt;/descriptor&gt;
          &lt;/descriptors&gt;
        &lt;/configuration&gt;
        [...]
&lt;/project&gt;</pre></div>
<p>Again, note that we could specify multiple custom assembly descriptors here. Additionally, it's possible to specify a mixture of <tt>descriptors</tt> and <tt>descriptorRefs</tt> within the same configuration.</p>
<p><b>Note:</b> Many other configuration options are available for the various goals in the Assembly Plugin. For more information, see the <a href="./examples/index.html">examples section</a> or the <a href="./plugin-info.html">plugin parameter documentation</a>.</p></div>
<div class="section">
<h3><a name="Execution:_Building_an_Assembly"></a>Execution: Building an Assembly</h3>
<p>Once you've configured the various <tt>descriptors</tt> and <tt>descriptorRefs</tt> for the assemblies you want the project to produce, it's time to build them.</p>
<p>In most cases, you'll want to make sure your assemblies are created as part of your normal build process. This ensures the assembly archives are made available for installation and deployment, and that they are created during the release of your project. This is handled by the <tt>assembly:single</tt> goal.</p>
<p>To bind the <tt>single</tt> goal to a project's build lifecycle, you can add this configuration (assuming you're using the <tt>jar-with-dependencies</tt> prefabricated descriptor):</p>
<div class="source"><pre class="prettyprint linenums">&lt;project&gt;
  [...]
  &lt;build&gt;
    [...]
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;
        &lt;version&gt;3.1.0&lt;/version&gt;
        &lt;configuration&gt;
          &lt;descriptorRefs&gt;
            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;
          &lt;/descriptorRefs&gt;
        &lt;/configuration&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;
            &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;
            &lt;goals&gt;
              &lt;goal&gt;single&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
      &lt;/plugin&gt;
      [...]
&lt;/project&gt;</pre></div>
<p>Then, to create a project assembly, simple execute the normal <tt>package</tt> phase from the default lifecycle:</p>
<div class="source"><pre class="prettyprint linenums">mvn package</pre></div>
<p>When this build completes, you should see a file in the <tt>target</tt> directory with a name similar to the following:</p>
<div class="source"><pre class="prettyprint linenums">target/sample-1.0-SNAPSHOT-jar-with-dependencies.jar</pre></div>
<p>Notice the artifact classifier, between the end of the version and the beginning of the file extension, <tt>jar-with-dependencies</tt>. This is the <tt>id</tt> of the assembly descriptor used to create this artifact.</p>
<div class="section">
<h4><a name="GOTCHA"></a>GOTCHA!</h4>
<p>In most cases, the <tt>single</tt> goal should be bound to the <tt>package</tt> phase of the build. However, if your assembly doesn't require binaries, or if you need to use one assembly as input for another, you may need to change this. While it's possible to assign the <tt>single</tt> goal to any phase of the build lifecycle, you should be careful to make sure the resources included in your assembly exist before that assembly is created.</p></div></div>
<div class="section">
<h3><a name="Advanced_Configuration"></a>Advanced Configuration</h3>
<div class="section">
<h4><a name="Creating_an_Executable_JAR"></a>Creating an Executable JAR</h4>
<p>As you've no doubt noticed, the Assembly Plugin can be a very useful way to create a self-contained binary artifact for your project, among many other things. However, once you've created this self-contained JAR, you will probably want the ability to execute it using the <tt>-jar</tt> JVM switch.</p>
<p>To accommodate this, the Assembly Plugin supports configuration of an <tt>&lt;archive&gt;</tt> element which is handled by <tt>maven-archiver</tt> (see <a href="#Resources">Resources</a>). Using this configuration, it's easy to configure the <tt>Main-Class</tt> attribute of the JAR manifest:</p>
<div class="source"><pre class="prettyprint linenums">&lt;project&gt;
  [...]
  &lt;build&gt;
    [...]
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;
        &lt;version&gt;3.1.0&lt;/version&gt;
        &lt;configuration&gt;
          [...]
          &lt;archive&gt;
            &lt;manifest&gt;
              &lt;mainClass&gt;org.sample.App&lt;/mainClass&gt;
            &lt;/manifest&gt;
          &lt;/archive&gt;
        &lt;/configuration&gt;
        [...]
      &lt;/plugin&gt;
      [...]
&lt;/project&gt;</pre></div>
<p>If we add this configuration to the <tt>single</tt> goal example above and rebuild, we will see an entry like this in the <tt>META-INF/MANIFEST.MF</tt> file of the resulting JAR:</p>
<div class="source"><pre class="prettyprint linenums">[...]
Main-Class: org.sample.App</pre></div>
<p>For more information on advanced configuration for the Assembly Plugin, see the <a href="#Resources">Resources</a> section.</p></div>
<div class="section">
<h4><a name="GOTCHA"></a>GOTCHA!</h4>
<p>At this point, only the <tt>jar</tt> and <tt>war</tt> assembly formats support the <tt>&lt;archive&gt;</tt> configuration element.</p></div></div>
<div class="section">
<h3><a name="Resources">Resources</a></h3>
<ol style="list-style-type: decimal">
<li>For more information on writing your own assembly descriptor, read the <a href="./assembly.html">Assembly Descriptor</a></li>
<li>For more information about <tt>maven-archiver</tt>, look <a class="externalLink" href="http://maven.apache.org/shared/maven-archiver/index.html">here</a>.</li>
<li>For more information on advanced <tt>maven-assembly-plugin</tt> configuration, see the <a href="./examples/index.html">examples</a>.</li></ol></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                    2002&#x2013;2017
                        <a href="https://www.apache.org/">The Apache Software Foundation</a>.
            All rights reserved.    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>